(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{284:function(t,a,s){"use strict";s.r(a);var e=s(13),n=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"miniextend-time"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#miniextend-time"}},[t._v("#")]),t._v(" MiniExtend Time")]),t._v(" "),a("p",[t._v("对应源文件： "),a("code",[t._v("time.lua")]),t._v(" 。")]),t._v(" "),a("h2",{attrs:{id:"函数介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#函数介绍"}},[t._v("#")]),t._v(" 函数介绍")]),t._v(" "),a("h3",{attrs:{id:"gettick"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gettick"}},[t._v("#")]),t._v(" "),a("code",[t._v("getTick")])]),t._v(" "),a("p",[t._v("获取当前是第几游戏帧。")]),t._v(" "),a("div",{staticClass:"language-lua extra-class"},[a("pre",{pre:!0,attrs:{class:"language-lua"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@return integer")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getTick")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n")])])]),a("h3",{attrs:{id:"schedulecall"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#schedulecall"}},[t._v("#")]),t._v(" scheduleCall")]),t._v(" "),a("p",[t._v("延时调用。")]),t._v(" "),a("div",{staticClass:"language-lua extra-class"},[a("pre",{pre:!0,attrs:{class:"language-lua"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@param ticks integer 多少游戏帧后执行回调")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@param func fun():any 执行的回调")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@param ...data any[] 执行回调的带的参数")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@return integer | false 成功时返回延时调用的 ID ，失败返回 false")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("scheduleCall")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ticks"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" func"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("...")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n")])])]),a("h3",{attrs:{id:"nexttick"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nexttick"}},[t._v("#")]),t._v(" "),a("code",[t._v("nextTick")])]),t._v(" "),a("p",[t._v("下个游戏帧执行回调。")]),t._v(" "),a("div",{staticClass:"language-lua extra-class"},[a("pre",{pre:!0,attrs:{class:"language-lua"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@param func fun():any 下个游戏帧执行的回调")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@param ...data any[] 执行回调的带的参数")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("nextTick")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("func"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("...")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n")])])]),a("p",[t._v("等价于 "),a("code",[t._v("scheduleCall(1, func, ...);")]),t._v(" 。")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v("如果延时回调中再执行延时，会从下一帧开始倒计时。")])]),t._v(" "),a("h3",{attrs:{id:"cancelschedulecall"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cancelschedulecall"}},[t._v("#")]),t._v(" "),a("code",[t._v("cancelScheduleCall")])]),t._v(" "),a("p",[t._v("取消延时调用。")]),t._v(" "),a("div",{staticClass:"language-lua extra-class"},[a("pre",{pre:!0,attrs:{class:"language-lua"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@param id integer 延时调用的 ID")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@return boolean 调用是否成功")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cancelScheduleCall")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n")])])]),a("h2",{attrs:{id:"类介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#类介绍"}},[t._v("#")]),t._v(" 类介绍")]),t._v(" "),a("h3",{attrs:{id:"timer"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#timer"}},[t._v("#")]),t._v(" "),a("code",[t._v("Timer")])]),t._v(" "),a("p",[a("code",[t._v("Timer")]),t._v(" 类，即计时器类，以下简称 "),a("code",[t._v("Timer")]),t._v(" 。")]),t._v(" "),a("p",[t._v("注意，计时器运行时间晚于延时调用函数（"),a("code",[t._v("scheduleCall")]),t._v("）")]),t._v(" "),a("p",[t._v("在延时回调函数中启动计时器会使计时器在那一帧运行。")]),t._v(" "),a("p",[a("code",[t._v("delay")]),t._v(" 值会递减，然后判断 "),a("code",[t._v("delay")]),t._v(" 并调用 "),a("code",[t._v("callback")]),t._v(" ，调用 "),a("code",[t._v("callback")]),t._v(" 并重置 "),a("code",[t._v("delay")]),t._v(" 。")]),t._v(" "),a("p",[t._v("构造函数：使用 "),a("code",[t._v("Timer:new()")]),t._v(" 构造一个 "),a("code",[t._v("Timer")]),t._v(" 对象，计时器默认是"),a("strong",[t._v("暂停")]),t._v("的。")]),t._v(" "),a("p",[t._v("析构函数：使用 "),a("code",[t._v("Timer:delete()")]),t._v(" 使计时器永久停止。")]),t._v(" "),a("p",[t._v("成员变量：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("名称")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("类型")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("简介")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("可读")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("可写")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("createTime")])]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("number")])]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("对象创建时的"),a("strong",[t._v("CPU 时间")])]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("√")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}})]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("tick")])]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("integer")])]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("计时器"),a("strong",[t._v("累计运行")]),t._v("的游戏帧数")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("√")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}})]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("delay")])]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("integer")])]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("下次调用 "),a("code",[t._v("callback")]),t._v(" 的间隔帧数（≤0时恢复为1）")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("√")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}})]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("callback")])]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("function")]),t._v(" | "),a("code",[t._v("nil")])]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("delay")]),t._v(" ≤0时的回调")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("√")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}})])])]),t._v(" "),a("p",[t._v("执行回调时传递两个参数："),a("code",[t._v("self")]),t._v("（计时器对象） 和 "),a("code",[t._v("tick")]),t._v(" （当前游戏帧数）。")]),t._v(" "),a("p",[t._v("成员函数：")]),t._v(" "),a("div",{staticClass:"language-lua extra-class"},[a("pre",{pre:!0,attrs:{class:"language-lua"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---启动计时器。")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@return boolean 是否成功（调用前是否暂停）")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" Timer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("start")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n")])])]),a("div",{staticClass:"language-lua extra-class"},[a("pre",{pre:!0,attrs:{class:"language-lua"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---暂停计时器。")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@return boolean 是否成功（调用前是否启动）")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" Timer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pause")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n")])])]),a("div",{staticClass:"language-lua extra-class"},[a("pre",{pre:!0,attrs:{class:"language-lua"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---获取计时器是否启动。")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@return boolean 计时器是否启动")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" Timer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("isRunning")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n")])])]),a("h2",{attrs:{id:"代码示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#代码示例"}},[t._v("#")]),t._v(" 代码示例")]),t._v(" "),a("h3",{attrs:{id:"背景"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#背景"}},[t._v("#")]),t._v(" 背景")]),t._v(" "),a("p",[t._v("定义 "),a("code",[t._v("tick")]),t._v(" 表示当前游戏帧， "),a("code",[t._v("i")]),t._v(" 的值为 2 。")]),t._v(" "),a("p",[t._v("从第一帧开始，每隔两帧执行以下操作：")]),t._v(" "),a("ul",[a("li",[t._v("在日志输出当前帧，以及 "),a("code",[t._v("Fibonacci[i]")]),t._v(" 的值。")]),t._v(" "),a("li",[t._v("将 "),a("code",[t._v("i")]),t._v(" 的值加 1 。")])]),t._v(" "),a("p",[a("code",[t._v("i")]),t._v(" = 50 后，停止输出。\n"),a("code",[t._v("Fibonacci")]),t._v(" 表示斐波那契数列，以下简称 "),a("code",[t._v("fib")]),t._v(" ，它的定义如下:")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("fib[0] = 0")])]),t._v(" "),a("li",[a("code",[t._v("fib[1] = 1")])]),t._v(" "),a("li",[a("code",[t._v("fib[i] = fib[i-1] + fib[i-2] ( i ≥ 2 , i ∈ N* )")])])]),t._v(" "),a("h3",{attrs:{id:"分析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#分析"}},[t._v("#")]),t._v(" 分析")]),t._v(" "),a("p",[t._v("首先需要知道递推求 "),a("code",[t._v("fib[1...n]")]),t._v(" 的方法:")]),t._v(" "),a("blockquote",[a("p",[t._v("定义 "),a("code",[t._v("fibs[0...n]")]),t._v(" ，满足 "),a("code",[t._v("fibs[i]")]),t._v(" = "),a("code",[t._v("fib[i]")]),t._v("。"),a("br"),t._v("令 "),a("code",[t._v("fibs[0]")]),t._v(" = "),a("code",[t._v("fib[0]")]),t._v(" = "),a("code",[t._v("0")]),t._v(", "),a("code",[t._v("fib[1]")]),t._v(" = "),a("code",[t._v("fib[1]")]),t._v(" = "),a("code",[t._v("1")]),t._v(" ，该步骤符合 "),a("code",[t._v("fibs")]),t._v(" 的性质。"),a("br"),t._v("\t令 "),a("code",[t._v("k")]),t._v(" 从 "),a("code",[t._v("2")]),t._v(" 到 "),a("code",[t._v("n")]),t._v(" 进行如下运算："),a("br"),t._v("- 令 "),a("code",[t._v("fibs[k]")]),t._v(" = "),a("code",[t._v("fibs[k-1]")]),t._v(" + "),a("code",[t._v("fibs[k-2]")]),a("br"),t._v("- 该步骤也符合 "),a("code",[t._v("fibs")]),t._v(" 的性质"),a("br"),a("code",[t._v("fibs")]),t._v(" 即为所求。")])]),t._v(" "),a("p",[t._v("实际上并不是真的需要 "),a("code",[t._v("fibs")]),t._v(" 数组，因为计算 "),a("code",[t._v("fibs[k]")]),t._v(" 只需要 "),a("code",[t._v("fibs[k-1]")]),t._v(" 和 "),a("code",[t._v("fibs[k-2]")]),t._v(" 的值，所以只需要存储这三个变量即可计算。")]),t._v(" "),a("p",[t._v("使用 MiniExtend Time 来完成异步输出，使用 "),a("code",[t._v("nextTick()")]),t._v(' 函数实现"从第一帧开始" 。\n使用 '),a("code",[t._v("Timer")]),t._v(" 计时器对象，通过设置其 "),a("code",[t._v("delay")]),t._v(' 值为 2 实现"每隔两帧" 。\n'),a("code",[t._v("i >= 50")]),t._v(" 时调用 "),a("code",[t._v("Timer:pause()")]),t._v(' 来实现"停止循环"。')]),t._v(" "),a("h3",{attrs:{id:"代码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#代码"}},[t._v("#")]),t._v(" 代码")]),t._v(" "),a("div",{staticClass:"language-lua extra-class"},[a("pre",{pre:!0,attrs:{class:"language-lua"}},[a("code",[t._v("Env"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("__init__")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ntimer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Timer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("new")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- fib1 表示 fib[i-2] , fib2 表示 fib[i-1]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- fib[0] = 0, fib[1] = 1")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("local")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" fib1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" fib2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 另一种方法:")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- timer.calback = function(self, tick)")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" timer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("callback")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tick"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 回调时 delay 已被默认地设为 1 ，因此需要重新设置 delay")]),t._v("\n\tself"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("delay "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- fib3 表示 Fibonacci[i]")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("local")]),t._v(" fib3 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" fib1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" fib2\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("local")]),t._v(" tickInfo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" fibInfo "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"tick "')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("tostring")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tick"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("local")]),t._v(" fibInfo "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"fib["')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("tostring")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"] = "')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("tostring")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fib3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\tLog"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("logtag")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"fib"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" tickInfo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" fibInfo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("50")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v("\n\t\ttimer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pause")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 为新的 fib 计算准备")]),t._v("\n\t\ti"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" fib1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" fib2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" fib2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" fib3\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 另一种方法:")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- scheduleCall(1, function()")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("nextTick")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 计时器运行晚于 nextTick")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 在这个 nextTick 回调后的那一帧 timer 就会开始运行")]),t._v("\n\ttimer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("start")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("部分输出:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[...][fib] tick 1 fib[2] = 1\n[...][fib] tick 3 fib[3] = 2\n[...][fib] tick 5 fib[4] = 31\n[...][fib] tick 7 fib[5] = 5\n[...][fib] tick 9 fib[6] = 8\n[...][fib] tick 11 fib[7] = 13\n[...][fib] tick 13 fib[8] = 21\n[...][fib] tick 15 fib[9] = 34\n[...][fib] tick 17 fib[10] = 55\n")])])]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[...][fib] tick 87 fib[45] = 1134903170\n[...][fib] tick 89 fib[46] = 1836311903\n[...][fib] tick 91 fib[47] = 2971215073\n[...][fib] tick 93 fib[48] = 4807526976\n[...][fib] tick 95 fib[49] = 7778742049\n[...][fib] tick 97 fib[50] = 12586269025\n")])])])])}),[],!1,null,null,null);a.default=n.exports}}]);