(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{285:function(t,a,n){"use strict";n.r(a);var s=n(13),e=Object(s.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"miniextend-ui"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#miniextend-ui"}},[t._v("#")]),t._v(" MiniExtend UI")]),t._v(" "),a("p",[t._v("对应源文件："),a("code",[t._v("ui.lua")])]),t._v(" "),a("p",[t._v("MiniExtend UI 前身为 "),a("code",[t._v("Customui")]),t._v(" ，但以面向对象方式描述界面与元件，且支持 "),a("RouterLink",{attrs:{to:"/api/object.html"}},[t._v("MiniExtend Object")]),t._v(" 。")],1),t._v(" "),a("h2",{attrs:{id:"约定"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#约定"}},[t._v("#")]),t._v(" 约定")]),t._v(" "),a("p",[t._v("大多数 "),a("code",[t._v("UI")]),t._v(" 下的函数都会包含一个 "),a("code",[t._v("playerid")]),t._v(" 可选参数，它表示响应该操作的玩家 id 。该参数不会被检查，如果 "),a("code",[t._v("playerid")]),t._v(" 的布尔值为 "),a("code",[t._v("false")]),t._v(" ，则以 "),a("code",[t._v("objid")]),t._v(" 代替。")]),t._v(" "),a("p",[a("code",[t._v("UI")]),t._v(" 下的所有未表明返回值的函数或方法，一律返回 "),a("code",[t._v("true")]),t._v(" 表示"),a("span",{attrs:{title:"调用 API 成功不一定代表函数正确工作"}},[t._v("调用 API 成功")]),t._v("，返回 "),a("code",[t._v("false")]),t._v(" 表示"),a("u",{attrs:{title:"有任何一部分执行失败，即视为全部失败"}},[t._v("失败")]),t._v("。")]),t._v(" "),a("h2",{attrs:{id:"函数介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#函数介绍"}},[t._v("#")]),t._v(" 函数介绍")]),t._v(" "),a("h3",{attrs:{id:"ui-getrootsize"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ui-getrootsize"}},[t._v("#")]),t._v(" "),a("code",[t._v("UI.getRootSize")])]),t._v(" "),a("p",[t._v("获取自定义 UI 界面的大小。")]),t._v(" "),a("div",{staticClass:"language-lua extra-class"},[a("pre",{pre:!0,attrs:{class:"language-lua"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@return float, float 宽和高")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" UI"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getRootSize")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n")])])]),a("p",[t._v("返回的是服务器上定义的 UI 界面大小，例如在多人游戏中调用 "),a("code",[t._v("UI:getRootSize()")]),t._v(" 会返回房主（或者云服务器）的 UI 界面大小。")]),t._v(" "),a("h3",{attrs:{id:"ui-下的类之间的关系"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ui-下的类之间的关系"}},[t._v("#")]),t._v(" "),a("code",[t._v("UI")]),t._v(" 下的类之间的关系")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("类名")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("类描述")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("父类")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("具象")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("UIView")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("UI 界面")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("无")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("√")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("Element")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("UI 元件")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("无")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("×")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("Texture")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("UI 图片")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Element")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("√")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("Button")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("UI 按钮")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Texture")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("√")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("Label")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("UI 文字")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Element")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("√")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("EditBox")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("UI 输入框")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Label")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("√")])])])]),t._v(" "),a("h3",{attrs:{id:"ui-uiview"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ui-uiview"}},[t._v("#")]),t._v(" "),a("code",[t._v("UI.UIView")])]),t._v(" "),a("p",[t._v("UI 界面，以下简称 "),a("code",[t._v("UIView")]),t._v(" 。")]),t._v(" "),a("p",[t._v("成员函数：")]),t._v(" "),a("div",{staticClass:"language-lua extra-class"},[a("pre",{pre:!0,attrs:{class:"language-lua"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---构造一个 UIView 对象。")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@param uiid string 指定该 UI 界面的 ID（不检查可用性）")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@return UI.UIView")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" UI"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("UIView"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("new")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("uiid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n")])])]),a("p",[t._v("函数返回值有缓存，如果 "),a("code",[t._v("uiid")]),t._v(" 相同，返回之前构造的对象。")]),t._v(" "),a("p",[t._v("成员变量：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("名称")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("类型")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("简介")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("可读")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("可写")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("id")])]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("string")])]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("UI 界面 ID")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("√")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}})]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("showEvent")])]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("function")]),t._v(" | "),a("code",[t._v("nil")])]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("界面显示时的回调")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("√")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("√")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("hideEvent")])]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("function")]),t._v(" | "),a("code",[t._v("nil")])]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("界面隐藏时的回调（ PC 端可按下 "),a("code",[t._v("ESC")]),t._v(" 触发）")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("√")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("√")])])])]),t._v(" "),a("p",[t._v("成员函数：")]),t._v(" "),a("div",{staticClass:"language-lua extra-class"},[a("pre",{pre:!0,attrs:{class:"language-lua"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---打开 UI 界面。")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@param playerid integer 目标玩家")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@return boolean 是否成功")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" UI"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("UIView"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("show")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("playerid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---隐藏（关闭）UI 界面。")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@param playerid integer 目标玩家")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@return boolean 是否成功")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" UI"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("UIView"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("hide")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("playerid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n")])])]),a("div",{staticClass:"language-lua extra-class"},[a("pre",{pre:!0,attrs:{class:"language-lua"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---修改该 UI 界面的所有子元件的状态。")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@param state string 界面状态")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@param playerid integer 目标玩家")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@return boolean 是否成功")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" UI"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("UIView"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setState")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("state "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" playerid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n")])])]),a("div",{staticClass:"language-lua extra-class"},[a("pre",{pre:!0,attrs:{class:"language-lua"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---构造一个 `UI.Texture` 对象。")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@param elementid string 元件 ID")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@return UI.Texture")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" UI"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("UIView"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("newTexture")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("elementid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---构造一个 `UI.Button` 对象。")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@param elementid string 元件 ID")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@return UI.Button")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" UI"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("UIView"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("newButton")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("elementid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---构造一个 `UI.Label` 对象。")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@param elementid string 元件 ID")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@return UI.Label")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" UI"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("UIView"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("newLabel")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("elementid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---构造一个 `UI.EditBox` 对象。")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@param elementid string 元件 ID")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@return UI.EditBox")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" UI"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("UIView"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("newEditBox")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("elementid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n")])])]),a("h3",{attrs:{id:"ui-element"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ui-element"}},[t._v("#")]),t._v(" "),a("code",[t._v("UI.Element")])]),t._v(" "),a("p",[t._v("UI 元件，以下简称 "),a("code",[t._v("Element")]),t._v(" 。")]),t._v(" "),a("p",[t._v("该类是抽象类，不能直接构造 "),a("code",[t._v("Element")]),t._v(" 对象，应构造 "),a("code",[t._v("Element")]),t._v(" 子类的对象。")]),t._v(" "),a("p",[t._v("成员变量：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("名称")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("类型")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("简介")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("可读")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("可写")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("uiView")])]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("UIView[]")])]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("所属 UI 界面")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("√")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}})]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("id")])]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("string")])]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("元件 ID")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("√")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}})])])]),t._v(" "),a("p",[t._v("成员函数：")]),t._v(" "),a("div",{staticClass:"language-lua extra-class"},[a("pre",{pre:!0,attrs:{class:"language-lua"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---显示元件。")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@param elementid string 元件 ID")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@param playerid integer 目标玩家")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@return boolean 是否成功")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" UI"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Element"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("show")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("playerid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---隐藏元件。")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@param elementid string 元件 ID")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@param playerid integer 目标玩家")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@return boolean 是否成功")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" UI"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Element"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("hide")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("playerid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n")])])]),a("div",{staticClass:"language-lua extra-class"},[a("pre",{pre:!0,attrs:{class:"language-lua"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---显示或隐藏元件。")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@param display boolean 为真，显示；否则，隐藏")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@param playerid integer 目标玩家")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@return boolean 是否成功")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" UI"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Element"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setDisplay")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("display "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" playerid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n")])])]),a("div",{staticClass:"language-lua extra-class"},[a("pre",{pre:!0,attrs:{class:"language-lua"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---修改元件状态。")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@param state string 状态")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@param playerid integer 目标玩家")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@return boolean 是否成功")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" UI"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Element"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setState")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("state "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" playerid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n")])])]),a("div",{staticClass:"language-lua extra-class"},[a("pre",{pre:!0,attrs:{class:"language-lua"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---修改元件位置。")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@param x number 位置 x 坐标")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@param y number 位置 y 坐标")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@param playerid integer 目标玩家")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@return boolean 是否成功")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" UI"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Element"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setPosition")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" y "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" playerid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---修改元件大小。")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@param width number 元件宽度")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@param height number 元件高度")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@param playerid integer 目标玩家")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@return boolean 是否成功")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" UI"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Element"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setSize")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("width"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" height "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" playerid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---将原始元件（旋转0°）绕其位置顺时针旋转 `angle` 度。")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@param angle number 旋转度数")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@param playerid integer 目标玩家")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@return boolean 是否成功")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" UI"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Element"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setAngle")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("angle "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" playerid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n")])])]),a("div",{staticClass:"language-lua extra-class"},[a("pre",{pre:!0,attrs:{class:"language-lua"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@param color integer 元件 RGB 颜色（ `0x000000` ~ `0xffffff` ）")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---修改元件颜色。")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@param playerid integer 目标玩家")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@return boolean 是否成功")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" UI"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Element"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setColor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("color "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" playerid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---修改元件透明度。")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@param alpha number 元件透明度（0为完全透明，100为完全不透明）")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@param playerid integer 目标玩家")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@return boolean 是否成功")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" UI"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Element"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setAlpha")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("alpha "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" playerid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n")])])]),a("h3",{attrs:{id:"ui-texture"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ui-texture"}},[t._v("#")]),t._v(" "),a("code",[t._v("UI.Texture")])]),t._v(" "),a("p",[t._v("UI 图片元件，以下简称 "),a("code",[t._v("Texture")]),t._v(" 。")]),t._v(" "),a("div",{staticClass:"language-lua extra-class"},[a("pre",{pre:!0,attrs:{class:"language-lua"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---构造一个 Texture 对象。")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@param uiview UI.UIView[] 所属界面")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@param elementid string 元件 ID")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@return UI.Texture")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" UI"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Texture"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("new")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("uiview"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" elementid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n")])])]),a("p",[t._v("等价于 "),a("code",[t._v("uiview:newTexture(elementid)")]),t._v(" 。")]),t._v(" "),a("p",[t._v("成员函数：")]),t._v(" "),a("div",{staticClass:"language-lua extra-class"},[a("pre",{pre:!0,attrs:{class:"language-lua"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---修改图片纹理。")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@param url string 图案纹理 ID")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" UI"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Texture"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTexture")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("url "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" playerid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n")])])]),a("p",[t._v("游戏内可以通过 “ID库” → “图片” 获取图案纹理 ID 。")]),t._v(" "),a("h3",{attrs:{id:"ui-button"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ui-button"}},[t._v("#")]),t._v(" "),a("code",[t._v("UI.Button")])]),t._v(" "),a("p",[t._v("UI 按钮元件，以下简称 "),a("code",[t._v("Button")]),t._v(" 。")]),t._v(" "),a("div",{staticClass:"language-lua extra-class"},[a("pre",{pre:!0,attrs:{class:"language-lua"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---构造一个 Button 对象。")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@param uiview UI.UIView[] 所属界面")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@param elementid string 元件 ID")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@return UI.Button")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" UI"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Button"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("new")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("uiview"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" elementid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n")])])]),a("p",[t._v("等价于 "),a("code",[t._v("uiview:newButton(elementid)")]),t._v(" 。")]),t._v(" "),a("p",[t._v("成员变量：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("名称")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("类型")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("简介")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("可读")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("可写")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("pressEvent")])]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("function")]),t._v(" | "),a("code",[t._v("nil")])]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[a("RouterLink",{attrs:{to:"/api/event.html#易混淆的事件"}},[t._v("按下按钮")]),t._v("时的回调")],1),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("√")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("√")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("clickEvent")])]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("function")]),t._v(" | "),a("code",[t._v("nil")])]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[a("RouterLink",{attrs:{to:"/api/event.html#易混淆的事件"}},[t._v("点击按钮")]),t._v("时的回调")],1),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("√")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("√")])])])]),t._v(" "),a("h3",{attrs:{id:"ui-label"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ui-label"}},[t._v("#")]),t._v(" "),a("code",[t._v("UI.Label")])]),t._v(" "),a("p",[t._v("UI 文字元件，以下简称 "),a("code",[t._v("Label")]),t._v(" 。")]),t._v(" "),a("div",{staticClass:"language-lua extra-class"},[a("pre",{pre:!0,attrs:{class:"language-lua"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---构造一个 Label 对象。")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@param uiview UI.UIView[] 所属界面")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@param elementid string 元件 ID")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@return UI.Label")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" UI"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Label"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("new")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("uiview"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" elementid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n")])])]),a("p",[t._v("等价于 "),a("code",[t._v("uiview:newLabel(elementid)")]),t._v(" 。")]),t._v(" "),a("p",[t._v("成员函数：")]),t._v(" "),a("div",{staticClass:"language-lua extra-class"},[a("pre",{pre:!0,attrs:{class:"language-lua"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---修改显示文本。")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@param text string 文本（不会被屏蔽，但不能太长）")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@param playerid integer 目标玩家")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@return boolean 是否成功")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" UI"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Label"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setText")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("text "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" playerid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---修改字体大小。")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@param size integer 字体大小")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@param playerid integer 目标玩家")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@return boolean 是否成功")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" UI"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Label"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setFontSize")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("size "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" playerid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n")])])]),a("h3",{attrs:{id:"ui-editbox"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ui-editbox"}},[t._v("#")]),t._v(" "),a("code",[t._v("UI.EditBox")])]),t._v(" "),a("p",[t._v("UI 输入框元件，以下简称 "),a("code",[t._v("EditBox")]),t._v(" 。")]),t._v(" "),a("div",{staticClass:"language-lua extra-class"},[a("pre",{pre:!0,attrs:{class:"language-lua"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---构造一个 EditBox 对象。")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@param uiview UI.UIView[] 所属界面")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@param elementid string 元件 ID")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("---@return UI.EditBox")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" UI"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("EditBox"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("new")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("uiview"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" elementid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n")])])]),a("p",[t._v("等价于 "),a("code",[t._v("uiview:newEditBox(elementid)")]),t._v(" 。")]),t._v(" "),a("p",[t._v("成员变量：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("名称")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("类型")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("简介")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("可读")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("可写")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("lostFocusEvent")])]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[a("RouterLink",{attrs:{to:"/api/event.html#易混淆的事件"}},[t._v("输入框失去焦点")]),t._v("时的回调")],1),t._v(" "),a("td",{staticStyle:{"text-align":"center"}}),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("√")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("√")])])])]),t._v(" "),a("p",[t._v("回调传递的输入框内容，会先被和谐处理。")]),t._v(" "),a("h3",{attrs:{id:"代码示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#代码示例"}},[t._v("#")]),t._v(" 代码示例")]),t._v(" "),a("h3",{attrs:{id:"背景"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#背景"}},[t._v("#")]),t._v(" 背景")]),t._v(" "),a("p",[t._v("已知一 UI 界面 "),a("code",[t._v("u")]),t._v(" 下有一个输入框元件 "),a("code",[t._v("e")]),t._v(" 和一个文字元件 "),a("code",[t._v("l")]),t._v(" ，要求如下：")]),t._v(" "),a("ul",[a("li",[t._v("在玩家没有输入 "),a("code",[t._v("e")]),t._v(" 时， "),a("code",[t._v("l")]),t._v(" 总是显示 "),a("code",[t._v('"输入 16 进制数"')]),t._v(" ，开始输入时 "),a("code",[t._v("e")]),t._v(" 的内容清空 。")]),t._v(" "),a("li",[a("code",[t._v("e")]),t._v(" 完成输入时，尝试将其解释为 16 进制数，并转化为 10 进制数，并将结果反应在 "),a("code",[t._v("l")]),t._v("上。")]),t._v(" "),a("li",[t._v("如果输入不合法，无法将其转化，则设置 "),a("code",[t._v("l")]),t._v(" 的文本为 "),a("code",[t._v('"错误的输入"')]),t._v(" 。")])]),t._v(" "),a("h3",{attrs:{id:"分析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#分析"}},[t._v("#")]),t._v(" 分析")]),t._v(" "),a("ul",[a("li",[t._v("要在开始输入时清空 "),a("code",[t._v("e")]),t._v(" 的内容，需要处理一个 "),a("code",[t._v("$ui.onClick")]),t._v(" 事件。实现方法是再创建一个按钮元件，设为 "),a("code",[t._v("b")]),t._v(" ，将 "),a("code",[t._v("e")]),t._v(" 设为 "),a("code",[t._v("b")]),t._v(" 的子集，调整 "),a("code",[t._v("b")]),t._v(" 的外观并将使其刚好覆盖 "),a("code",[t._v("e")]),t._v(" ，这样当玩家点击输入框开始输入时，也会触发按钮的点击事件("),a("code",[t._v("clickEvent")]),t._v(")，这时就能修改 "),a("code",[t._v("e")]),t._v(" 的内容了。")]),t._v(" "),a("li",[t._v("经测试，当按钮被点击时焦点才会进入输入框，所以不要使用按下事件。")]),t._v(" "),a("li",[t._v("使用 "),a("code",[t._v("tonumber(e [, base])")]),t._v(" 函数来转化数字。")])]),t._v(" "),a("h3",{attrs:{id:"代码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#代码"}},[t._v("#")]),t._v(" 代码")]),t._v(" "),a("div",{staticClass:"language-lua extra-class"},[a("pre",{pre:!0,attrs:{class:"language-lua"}},[a("code",[t._v("Env"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("__init__")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 需替换以下 id")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("local")]),t._v(" uiview_id "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("[[]]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("local")]),t._v(" editBox_id "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("[[]]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("local")]),t._v(" label_id "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("[[]]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("local")]),t._v(" button_id "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("[[]]")]),t._v("\nuiview "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" UI"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("UIView"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("new")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("uiview_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\neditBox "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" uiview"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("newEditBox")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("editBox_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nlabel "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" uiview"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("newLabel")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("label_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nbutton "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" uiview"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("newButton")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("button_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 初始化")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("registerEvent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("[[Game.AnyPlayer.EnterGame]]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("param"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\tuiview"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("show")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\tlabel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setText")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\teditBox"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setText")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"输入 16 进制数"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" button"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("clickEvent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("param"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 清空输入框")]),t._v("\n\teditBox"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setText")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" editBox"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("lostFocusEvent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("param"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("local")]),t._v(" num "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("tonumber")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("param"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"content"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" num "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v("\n\t\tlabel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setText")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("tostring")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("num"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v("\n\t\tlabel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setText")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"错误的输入"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n\teditBox"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setText")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"输入 16 进制数"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n")])])])])}),[],!1,null,null,null);a.default=e.exports}}]);